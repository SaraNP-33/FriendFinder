<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <!------------------------------------------ Popper ------------------------->
 <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
 <!-------------------- jQuery ----------------------------->
 <script src="https://code.jquery.com/jquery-3.5.0.min.js"></script>

    <!---------------------BootStrap & CSS Links-------------------->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

    <link rel="stylesheet" type="text/css" href="assets/css/style.css">

    <title>Friend Finder</title>
</head>
<body>
    <!--Jumbontron header-->
    <div class="container">
        <div class="jumbotron">
            <h1 class="display-4 d-flex justify-content-center">Survey Questions</h1>
            <hr class="my-4">
            <p class="lead d-flex justify-content-center">Answer these survey questions and find your perfect friend!</p>
            
        </div>
    </div>
    <div class= "container name-form">
    <hr class = "mt-3 mb-4">

    <h5 class = "row pl-3 mt-3 ml-1">Name (required) </h5>
    <input type = "text" id = "name" class = "form-control ml-2" placeholder = "Enter your name here" required = "">
    
    <h5 class = "row pl-3 mt-3 ml-1"> Enter a link to your photo (required) </h5>
    <input type = "text" id = "photo" class = "form-control mb-1 ml-2" placeholder = " example: https://i.picsum.photos/id/1025400/400.jpg "required = ""> 
      
    <div class="note ml-4 font-italic">You can use this one ->  <span>https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Macaca_sinica_-_01.jpg/220px-Macaca_sinica_-_01.jpg </span></div>
    
    <hr>
    
    <div class = "row form pl-5 col-sm-10 mb-3 pb-4">
    </div>

<!-------Start of questions using cards and radios from Bootstrap---->
<div class ="container question-card">
<!--------------------Question 1------->
<div class="card">
    <div class="card-header">
      Question 1
    </div>
    <div class="card-body">
      <h5 class="card-title">The weekend is here! I will...</h5>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question1"  value="1">
        <label class="form-check-label" for="1">
          Go dancing with friends
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question1" value="2">
        <label class="form-check-label" for="2">
          Binge read a Book
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question1"  value="3">
        <label class="form-check-label" for="3">
          Binge watch a show
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question1" value="4">
        <label class="form-check-label" for="4">
          Do a DIY project
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question1" value="5">
        <label class="form-check-label" for="5">
          Sleep! My week was long...
        </label>
      </div>
    </div>
  </div>
  <!-----------------------Question2--------->
  <div class="card">
    <div class="card-header">
      Question 2
    </div>
    <div class="card-body">
      <h5 class="card-title">Time for Dinner! What are you having?</h5>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question2" value="1">
        <label class="form-check-label" for="1">
          A nice home cook meal from scratch!
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question2" value="2">
        <label class="form-check-label" for="2">
          Something out of a box that I can microwave.
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question2"  value="3">
        <label class="form-check-label" for="3">
          All about meal prep!
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question2" value="4">
        <label class="form-check-label" for="4">
          Takeout! UberEats is the best invention ever!
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question2"  value="5">
        <label class="form-check-label" for="5">
          Lefovers who never seem to end!
        </label>
      </div>
    </div>
  </div>
  <!--------------------------Question 3------------>
  <div class="card">
    <div class="card-header">
      Question 3
    </div>
    <div class="card-body">
      <h5 class="card-title">Imagination is</h5>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question3"  value="1">
        <label class="form-check-label" for="1">
          Not necessary 
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question3"  value="2">
        <label class="form-check-label" for="2">
          What gets me through really boring moments
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question3"  value="3">
        <label class="form-check-label" for="3">
          An awesome perk of being a human
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question3"  value="4">
        <label class="form-check-label" for="4">
          A way to apply our inteligence and inovate
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question3"  value="5">
        <label class="form-check-label" for="5">
          Something I use from time to time
        </label>
      </div>
    </div>
  </div>
  <!---------------------------------Question 4------------->
  <div class="card">
    <div class="card-header">
      Question 4
    </div>
    <div class="card-body">
      <h5 class="card-title">A good friend is</h5>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question4"  value="1">
        <label class="form-check-label" for="1">
          Someone that thinks like me
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question4"  value="2">
        <label class="form-check-label" for="2">
         Someone who dances-out my problems with me
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question4"  value="3">
        <label class="form-check-label" for="3">
          Someone who listens 
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question4"  value="4">
        <label class="form-check-label" for="4">
          Someone who I share my failures and sucesses with
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question4"  value="5">
        <label class="form-check-label" for="5">
          Someone who always agrees with me and takes my side always
        </label>
      </div>
    </div>
  </div>
  <!-----------------------Question 5----------->
  <div class="card">
    <div class="card-header">
      Question 5
    </div>
    <div class="card-body">
      <h5 class="card-title">Curiosity</h5>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question5"  value="1">
        <label class="form-check-label" for="1">
          Killed the cat
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question5"  value="2">
        <label class="form-check-label" for="2">
          Rules my world
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question5"  value="3">
        <label class="form-check-label" for="3">
          Is only used for the things I care about
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question5"  value="4">
        <label class="form-check-label" for="4">
          Don't need it, I know enough
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question5"  value="5">
        <label class="form-check-label" for="5">
          Is great to learn baout celebs
        </label>
      </div>
    </div>
  </div>
  <!----------------------Question 6----------------->
  <div class="card">
    <div class="card-header">
      Question 6
    </div>
    <div class="card-body">
      <h5 class="card-title">After a long day, your friend calls you to vent. You...</h5>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question6"  value="1">
        <label class="form-check-label" for="1">
          Answer and invite them over
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question6" value="2">
        <label class="form-check-label" for="2">
          Ignore the call. You are too tired.
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question6"  value="3">
        <label class="form-check-label" for="3">
          Text them and come up with an excuse.
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question6"  value="4">
        <label class="form-check-label" for="4">
          Text them and explain you are tired and need to rest.
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question6"  value="5">
        <label class="form-check-label" for="5">
          Go off on them for not realizing the day you had
        </label>
      </div>
    </div>
  </div>
  <!-----------------------Question 7----------------->
  <div class="card">
    <div class="card-header">
      Question 7
    </div>
    <div class="card-body">
      <h5 class="card-title">Cats vs. Dogs</h5>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question7" value="1">
        <label class="form-check-label" for="1">
          Cats all the Way!
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question7"  value="2">
        <label class="form-check-label" for="2">
          Dogs all the way!
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question7"  value="3">
        <label class="form-check-label" for="3">
          I love both and can't choose!!
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question7"  value="4">
        <label class="form-check-label" for="4">
          I dislike animals...
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question7" id="exampleRadios2" value="5">
        <label class="form-check-label" for="5">
          Zebra
        </label>
      </div>
    </div>
  </div>
  <!-----------------------Question 8----------------->
  <div class="card">
    <div class="card-header">
      Question 8
    </div>
    <div class="card-body">
      <h5 class="card-title">Book vs Party</h5>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question8"  value="1">
        <label class="form-check-label" for="1">
          Neither, I prefer to binge watch a show.
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question8"  value="2">
        <label class="form-check-label" for="2">
          Depends on my mood.
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question8"  value="3">
        <label class="form-check-label" for="3">
          Paaaaaarrrrrtyyyyyyyyyyy!!!
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question8"  value="4">
        <label class="form-check-label" for="4">
          There is nothing like a good book on a quiet evening!
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question8"  value="5">
        <label class="form-check-label" for="5">
          If I listen to music and read a book is like a party in my head!
        </label>
      </div>
    </div>
  </div>
  <!-----------------------Question 9----------------->
  <div class="card">
    <div class="card-header">
      Question 9
    </div>
    <div class="card-body">
      <h5 class="card-title">If something is bothering me, I...</h5>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question9"  value="1">
        <label class="form-check-label" for="1">
          Shove it down in a deep corner of my soul and move on
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="exampleRadios"  value="2">
        <label class="form-check-label" for="2">
          Am honest and share my feelings
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question9"  value="3">
        <label class="form-check-label" for="3">
          I sulk and withdrawn until it passes
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question9"  value="4">
        <label class="form-check-label" for="4">
          I become aggressive and place blame
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question9"  value="5">
        <label class="form-check-label" for="5">
          I share my feelings but only if asked
        </label>
      </div>
    </div>
  </div>
  <!------------------------Question 10--------------->
  <div class="card">
    <div class="card-header">
      Question 10
    </div>
    <div class="card-body">
      <h5 class="card-title">When put on the spot</h5>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question10"  value="1">
        <label class="form-check-label" for="1">
          I don't like it, but it's ok
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question10"  value="2">
        <label class="form-check-label" for="2">
          I want to dig a hole and hide
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question10" value="3">
        <label class="form-check-label" for="3">
          I was born for the spotlight
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question10" value="4">
        <label class="form-check-label" for="4">
          My mind goes blank 
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="Question10"  value="5">
        <label class="form-check-label" for="5">
          I bring in the humor to deflect my embarrassement
        </label>
      </div>
    </div>
  </div>
</div>
<!----------------submit button--------------------->
<button type = "submit" class = "btn btn-lg ml-4 mb-3 shadow" id = "submitBtn" > Find My Bestie
</button>

 <!-- --------------------------------- MODAL ------------------------------- -->
 <div id="results-modal" class="modal" role="dialog" style="display: none">
    <div class="modal-dialog">

      <div class="modal-content">
        <div class="modal-header d-flex justify-content-center">
          <h5 class="modal-title">Your New Bestie is:</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="row modal-body d-flex justify-content-center align-middle pt-4">
            <img id="match-img" src="" alt="">
          </div>
          <div class="row modal-body d-flex justify-content-center">
            <h2 class= "row text-center" id="match-name"></h2>
          </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <script type="text/javascript">
      
    // create a click event that will submit the users answers. 
    $("#submitBtn").on("click", function(event) {
      event.preventDefault();

      // We need to validate  the info the user typed in the name+photo fields
      // .form-control is for the users name and photo input
      function validate() {
        var isValid = true;
        $(".form-control").each(function() {
          if ($(this).val() === "") {
            isValid = false;
          }
          
        });
        $(".chosen-select").each(function() {
      
      if ($(this).val() === "") {
        isValid = false;
      }
    });
    return isValid;
    }
        if(validate()){
            console.log("It's valid!");
            var data={
                name:$("#name").val().trim(),
                photo:$("#photo").val(),
                scores:[
                 $("input[name = 'Question1']:checked").val(),
                  $("input[name = 'Question2']:checked").val(),
                  $("input[name = 'Question3']:checked").val(),
                  $("input[name = 'Question4']:checked").val(),
                  $("input[name = 'Question5']:checked").val(),
                  $("input[name = 'Question6']:checked").val(),
                  $("input[name = 'Question7']:checked").val(),
                  $("input[name = 'Question8']:checked").val(),
                  $("input[name = 'Question9']:checked").val(),
                  $("input[name = 'Question10']:checked").val()
                ]
                
            };
       
    $.post("/api/friends", data, function(data) {
      
      // Grab the result from the AJAX post so that the best match's name and photo are displayed.
      $("#match-name").text(data.name); 
      $("#match-img").attr("src", data.photo); 

      // Show the modal with the best match
      $("#results-modal").modal("toggle");

        });
    }
else{
    alert("oops...looks like you missed a question!");
}    
    
});
    
     
      </script>
</body>
</html>